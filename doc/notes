Общие заметки

рекурсивный алгоритм?

токены - объекты-потомки одного класса предка, надо которым определены операторы сложения, вычитания, умножения и т.д.

формируется очередь операций?

операциям присваивается приоритет?

у всех токенов определен метод вроде eval/calc, который возвращает результат исходной математической операции?

Общий алгоритм:
принимаем строку
сканируем посимвольно
встретили недопустимый символ - завершаем работу
удаляем пробелы из строки

источники:
https://nickmcd.me/2020/12/02/diy-semantic-math-parser-and-command-line-calculator/